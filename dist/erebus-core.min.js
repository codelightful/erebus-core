var Erebus=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,a(e,t,"get"))}function o(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a(e,t,"set"),n),n}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}var l={};function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}l.isPromise=function(t){return!!t&&(t instanceof Promise||e("function"===t.then)&&"function"==typeof t.catch)},l.trim=function(e){return"string"!=typeof e?e:e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};var s={tinyId:c,shortId:function(){return c()+c()},guid:function(){return c()+"-"+c()+"-"+c()+"-"+c()+c()}};var f={onReady:function(e){"loading"!==document.readyState?e():"function"==typeof document.addEventListener?document.addEventListener("DOMContentLoaded",e,!1):"function"==typeof document.attachEvent&&document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&e()}))}};var d={trigger:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return null==e?Promise.resolve():"function"!=typeof e?Promise.reject("erebus.handler.trigger.invalid_function"):new Promise((function(t,r){try{t(e.call.apply(e,[null].concat(n)))}catch(e){console.error("erebus.handlers.trigger.function_error",e),r(e)}}))}};function h(e){if(!e||"string"!=typeof e)return[];var t=document.createElement("div");return t.innerHTML=e,n(t.childNodes)}function p(e){if(e&&e instanceof HTMLElement)for(;e.firstChild;)e.removeChild(e.firstChild)}function y(e){if(!(e&&e instanceof HTMLElement))return null;var t=e.cloneNode(!0);return 1===t.nodeType&&t.removeAttribute("id"),t}function m(e){if(!e)return null;if(e instanceof b)return e;if(e instanceof HTMLElement)return new b(e);if("string"==typeof e){var t;if("body"===e)t=document.body;else if(e.startsWith("<")&&e.endsWith(">"))t=h(e);else if(e.startsWith("#")){if(!(t=document.getElementById(e.substring(1))))throw Error("erebus.element.unknown_element_id["+e+"]")}else if(0===(t=document.querySelectorAll(e)).length)throw Error("erebus.element.unknown_selector["+e+"]");return new b(t)}}var v=new WeakMap,g=new WeakMap,b=function(){function n(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),u(this,v,{writable:!0,value:void 0}),u(this,g,{writable:!0,value:void 0}),o(this,g,!1),t instanceof HTMLElement)o(this,v,[]),i(this,v).push(t);else if(t instanceof NodeList)o(this,v,Array.from(t));else{if(!Array.isArray(t))throw Error("erebus.element.unknown_type["+e(t)+"]");o(this,v,t)}}var r,a,l;return r=n,a=[{key:"each",value:function(e){for(var t=0;t<i(this,v).length&&!1!==e(i(this,v)[t],t);t++);}},{key:"innerHTML",set:function(e){this.each((function(t){t.innerHTML=e}))}},{key:"content",value:function(e){return this.each((function(t,r){"string"==typeof e?t.innerHTML=e:e instanceof HTMLElement?(p(t),0===r?t.appendChild(e):t.appendChild(y(e))):e instanceof n&&(p(t),0===r?e.setParentNode(t):e.clone().setParentNode(t))})),this}},{key:"setParentNode",value:function(t){if(!t)return this.each((function(e){e.parentNode.removeChild(e)})),this;if("string"==typeof t)t=m(t);else if("function"!=typeof t.appendChild)throw Error("erebus.wrapper.append_to.invalid_parent["+e(t)+"]");return this.each((function(e){t.appendChild(e)})),this}},{key:"parentNode",set:function(e){this.setParentNode(e)}},{key:"appendChild",value:function(e){if("string"==typeof e){var t=h(e);this.each((function(e,n){for(var r=0;r<t.length;r++){var i=t[r];0===n?e.appendChild(i):e.appendChild(y(i))}}))}else this.each((function(t,r){e instanceof HTMLElement?0===r?t.appendChild(e):t.appendChild(y(e)):e instanceof n&&e.each((function(e){0===r?t.appendChild(e):t.appendChild(y(e))}))}));return this}},{key:"addEventListener",value:function(e,t){if(!e)throw Error("erebus.element.add_listener.null_event_name");return"function"==typeof t&&this.each((function(n){"function"==typeof n.addEventListener?n.addEventListener(e,t,!1):"function"==typeof n.attachEvent&&n.attachEvent("on"+e,t)})),this}},{key:"isHidden",get:function(){return i(this,g)}},{key:"hide",value:function(){i(this,g)||(o(this,g,!0),this.each((function(e){var t=getComputedStyle(e).getPropertyValue("display");t&&"none"!==t&&(e.originalDisplay=t),e.style.display="none"})))}},{key:"show",value:function(){this.each((function(e){var t=getComputedStyle(e).getPropertyValue("display");console.log("computedDisplay="+t),t&&"none"!==t||(e.originalDisplay?(e.style.display=e.originalDisplay,delete e.originalDisplay):e.style.display="block")}))}},{key:"clone",value:function(){var e=[];return this.each((function(t){e.push(y(t))})),new n(e)}}],a&&t(r.prototype,a),l&&t(r,l),Object.defineProperty(r,"prototype",{writable:!1}),n}();return console.log("Erebus Core v0.0.3"),{utils:l,random:s,events:f,handler:d,element:m}}();
//# sourceMappingURL=erebus-core.min.js.map
